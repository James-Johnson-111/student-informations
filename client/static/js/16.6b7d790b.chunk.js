(this["webpackJsonpstudent-info"]=this["webpackJsonpstudent-info"]||[]).push([[16,15],{71:function(e,t,o){"use strict";o.r(t);var n=o(41),a=o(47),s=o(35),r=o(0),i=o(14),c=o(15),S=o(40),l=o.n(S),d=o(2),u=o(61),m=o.n(u).a.create({baseURL:"student-informations.herokuapp.com/",withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}),p=o(1),h=Object(r.lazy)((function(){return o.e(12).then(o.bind(null,117))}));t.default=function(){var e=Object(d.f)(),t=Object(r.useState)(!1),S=Object(s.a)(t,2),u=S[0],f=S[1],O=Object(r.useState)(!1),g=Object(s.a)(O,2),v=g[0],F=g[1],C=Object(r.useState)(!1),T=Object(s.a)(C,2),b=T[0],w=T[1],j=Object(r.useState)(!1),I=Object(s.a)(j,2),N=I[0],D=I[1],y=Object(r.useState)(!1),M=Object(s.a)(y,2),P=M[0],_=M[1],R=Object(r.useState)({studentName:"",FatherName:"",CNIC:"",MotherTongue:"",Occupation:"",MonthlyIncome:"",Surname:"",Religion:"",Gender:"",DateOfBirth:"",PlaceOfBirth:"",PreviousSchool:"",OfficeTelephone:"",ResidenceTelephone:"",Province:"",ResidentialAddress:""}),B=Object(s.a)(R,2),A=B[0],J=B[1],E=Object(r.useState)(),L=Object(s.a)(E,2),q=L[0],k=L[1];Object(r.useEffect)((function(){var e=window.location.href.split("/").pop().split("=").pop();if("new"!==e&&m.post("/students/student/",{registration:e}).then((function(t){var n=o(70);localStorage.setItem("SaveStepsData",JSON.stringify(t.data));var a=n(t.data[0].recording_date).format("YYYY-MM-DD"),s={studentName:t.data[0].student_name,FatherName:t.data[0].father_name,CNIC:t.data[0].father_cnic,MotherTongue:t.data[0].mother_tongue,Occupation:t.data[0].father_occupation,MonthlyIncome:t.data[0].monthly_income,Surname:t.data[0].student_surname,Religion:t.data[0].religion,Gender:t.data[0].gender,DateOfBirth:a,PlaceOfBirth:t.data[0].place_of_birth,PreviousSchool:t.data[0].previous_school,OfficeTelephone:t.data[0].office_telephone,ResidenceTelephone:t.data[0].residence_telephone,Province:t.data[0].province,ResidentialAddress:t.data[0].residential_address};J(s),k(e)})).catch((function(e){console.log(e)})),setTimeout((function(){l()(".StepForms").first().addClass("ShowStepForms")}),2e3),localStorage.getItem("SaveStepsData")){var t=JSON.parse(localStorage.getItem("SaveStepsData"));J(t[0])}else localStorage.setItem("SaveStepsData",JSON.stringify([A]))}),[]);return Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)(i.a,{image:c.a,txt:"Loading....",width:"50",height:"50",unit:"vh"}),children:Object(p.jsx)(h,{Step1:v,Step2:b,Step3:N,Step4:P,ShowLoading:u,StudentInfo:A,onChangeHandler:function(e){var t=e.target,o=t.name,s=t.value,r=Object(a.a)(Object(a.a)({},A),{},Object(n.a)({},o,s));J(r)},BackToList:function(){e.push("/students/list")},NewEntry:function(){F(!1),w(!1),D(!1),_(!1),l()(".StepForms .container-fluid").addClass("d-none"),document.getElementById("StudentInfoMsg").innerHTML="",l()(".StepForms").removeClass("ShowStepForms"),l()(".StepForms").first().addClass("ShowStepForms")},PreviousStep:function(e){"one"===e&&(l()(".StepForms").removeClass("ShowStepForms"),l()(".StepForms").first().addClass("ShowStepForms"),F(!1)),"two"===e&&(l()(".StepForms").removeClass("ShowStepForms"),l()(".StepForms").eq(1).addClass("ShowStepForms"),w(!1)),"three"===e&&(l()(".StepForms").removeClass("ShowStepForms"),l()(".StepForms").eq(2).addClass("ShowStepForms"),D(!1))},onStepOne:function(e){e.preventDefault(),localStorage.setItem("SaveStepsData",JSON.stringify([A])),l()(".StepForms").removeClass("ShowStepForms"),f(!0),setTimeout((function(){f(!1),l()(".StepForms").eq(1).addClass("ShowStepForms"),F(!0)}),1500)},onStepTwo:function(e){e.preventDefault(),localStorage.setItem("SaveStepsData",JSON.stringify([A])),l()(".StepForms").removeClass("ShowStepForms"),f(!0),setTimeout((function(){f(!1),l()(".StepForms").eq(2).addClass("ShowStepForms"),w(!0)}),1500)},onStepThird:function(e){e.preventDefault(),localStorage.setItem("SaveStepsData",JSON.stringify([A])),l()(".StepForms").removeClass("ShowStepForms"),f(!0),setTimeout((function(){f(!1),l()(".StepForms").eq(3).addClass("ShowStepForms"),D(!0)}),1500)},onStepForth:function(e){e.preventDefault();var t=new Date,o=Object(a.a)(Object(a.a)({},A),{},{date:t,time:t.toTimeString(),registration:q||null});q?m.post("/students/student/edit",o).then((function(){J({studentName:"",FatherName:"",CNIC:"",MotherTongue:"",Occupation:"",MonthlyIncome:"",Surname:"",Religion:"",Gender:"",DateOfBirth:"",PlaceOfBirth:"",PreviousSchool:"",OfficeTelephone:"",ResidenceTelephone:"",Province:"",ResidentialAddress:""}),localStorage.setItem("SaveStepsData",JSON.stringify([{}])),l()(".StepForms").removeClass("ShowStepForms"),f(!0),setTimeout((function(){f(!1),l()(".StepForms").eq(4).addClass("ShowStepForms"),_(!0),setTimeout((function(){var e=0,t="Student Information has been updated successfully.";!function o(){e<t.length&&(document.getElementById("StudentInfoMsg").innerHTML+=t.charAt(e),e++,setTimeout(o,50)),e===t.length&&l()(".StepForms .container-fluid").removeClass("d-none")}()}),500)}),1500)})).catch((function(e){console.log(e)})):m.post("/studententry",o).then((function(){J({studentName:"",FatherName:"",CNIC:"",MotherTongue:"",Occupation:"",MonthlyIncome:"",Surname:"",Religion:"",Gender:"",DateOfBirth:"",PlaceOfBirth:"",PreviousSchool:"",OfficeTelephone:"",ResidenceTelephone:"",Province:"",ResidentialAddress:""}),localStorage.setItem("SaveStepsData",JSON.stringify([{}])),l()(".StepForms").removeClass("ShowStepForms"),f(!0),setTimeout((function(){f(!1),l()(".StepForms").eq(4).addClass("ShowStepForms"),_(!0),setTimeout((function(){var e=0,t="Student Information has been entered successfully.";!function o(){e<t.length&&(document.getElementById("StudentInfoMsg").innerHTML+=t.charAt(e),e++,setTimeout(o,50)),e===t.length&&l()(".StepForms .container-fluid").removeClass("d-none")}()}),500)}),1500)})).catch((function(e){console.log(e)}))}})})}}}]);
//# sourceMappingURL=16.6b7d790b.chunk.js.map